(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[392],{8310:function(e,t,r){Promise.resolve().then(r.bind(r,3290))},3290:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var a=r(7437),s=r(2265),n=r(5475),i=r(9763);let l=(0,i.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),o=(0,i.Z)("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);var d=r(7414),c=r(1047),u=r(3774);let m=r(257).env.NEXT_PUBLIC_API_URL||"http://localhost:8000/api",p=async e=>{try{let t=await fetch("".concat(m,"/wheel/validate-code"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({code:e})});if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));return(await t.json()).valid||!1}catch(e){return console.error("Error validating discount code:",e),!1}};var f=r(3647),x=()=>{var e;let t=(0,n.useRouter)(),[r,i]=(0,s.useState)({firstName:"",lastName:"",email:"",phone:"",flight:"",pickupDate:"",pickupTime:"",dropoffDate:"",dropoffTime:"",location:"aeroport",carType:"economic",discountCode:""}),[m,x]=(0,s.useState)(!1),[h,b]=(0,s.useState)(null),[g,v]=(0,s.useState)(!1),j=[{value:"economic",label:"Economic - Dacia Logan",price:45},{value:"comfort",label:"Comfort - Volkswagen Golf",price:65},{value:"premium",label:"Premium - BMW Seria 3",price:95},{value:"van",label:"Van 9 locuri - Ford Transit",price:85}],y=[{value:"aeroport",label:"Aeroport Henri Coandă, Otopeni"},{value:"city",label:"Centrul Bucureștiului"},{value:"other",label:"Altă locație (se percepe taxă)"}],N=e=>{let{name:t,value:r}=e.target;i(e=>({...e,[t]:r}))},w=e=>t=>{i(r=>({...r,[e]:t}))},k=()=>{let e=j.find(e=>e.value===r.carType);if(!e||!r.pickupDate||!r.dropoffDate)return 0;let t=new Date(r.pickupDate),a=Math.ceil((new Date(r.dropoffDate).getTime()-t.getTime())/864e5);return a>0?a*e.price:e.price},T=async()=>{if(!r.discountCode.trim()){b(null);return}v(!0);try{if(await p(r.discountCode)){let e=r.discountCode.match(/WHEEL(\d+)/),t=e?parseInt(e[1]):10;b({isValid:!0,message:"Cod valid! Reducere ".concat(t,"% aplicată."),discount:t})}else b({isValid:!1,message:"Cod invalid sau expirat.",discount:0})}catch(e){b({isValid:!1,message:"Eroare la validarea codului.",discount:0})}finally{v(!1)}},C=async e=>{e.preventDefault(),x(!0);let a=k();(null==h?void 0:h.isValid)&&h.discount>0&&(a*=1-h.discount/100),await new Promise(e=>setTimeout(e,1500)),localStorage.setItem("reservationData",JSON.stringify({...r,total:Math.round(a),originalTotal:k(),appliedDiscount:(null==h?void 0:h.isValid)?h.discount:0,reservationId:"DC"+Math.random().toString(36).substr(2,9).toUpperCase()})),t.push("/succes")},D=j.find(e=>e.value===r.carType),S=k(),E=(null==h?void 0:h.isValid)&&h.discount>0?S*(1-h.discount/100):S;return(0,a.jsx)("div",{className:"pt-16 lg:pt-20 min-h-screen bg-gray-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,a.jsxs)("div",{className:"text-center mb-12",children:[(0,a.jsxs)("h1",{className:"text-4xl lg:text-5xl font-poppins font-bold text-berkeley mb-6",children:["Rezervă-ți ",(0,a.jsx)("span",{className:"text-jade",children:"mașina"})]}),(0,a.jsx)("p",{className:"text-xl font-dm-sans text-gray-600 max-w-3xl mx-auto",children:"Completează formularul și te \xeent\xe2lnim la aeroport \xeen sub 5 minute!"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:(0,a.jsxs)("form",{onSubmit:C,className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-2xl font-poppins font-semibold text-berkeley mb-6 flex items-center",children:[(0,a.jsx)(l,{className:"h-6 w-6 text-jade mr-3"}),"Informații personale"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"reservation-last-name",className:"block text-sm font-dm-sans font-semibold text-gray-700 mb-2",children:"Nume *"}),(0,a.jsx)("input",{id:"reservation-last-name",type:"text",name:"lastName",value:r.lastName,onChange:N,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-jade focus:border-transparent transition-all duration-300",placeholder:"Introducă numele"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"reservation-first-name",className:"block text-sm font-dm-sans font-semibold text-gray-700 mb-2",children:"Prenume *"}),(0,a.jsx)("input",{id:"reservation-first-name",type:"text",name:"firstName",value:r.firstName,onChange:N,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-jade focus:border-transparent transition-all duration-300",placeholder:"Introducă prenumele"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"reservation-email",className:"block text-sm font-dm-sans font-semibold text-gray-700 mb-2",children:"Email *"}),(0,a.jsx)("input",{id:"reservation-email",type:"email",name:"email",value:r.email,onChange:N,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-jade focus:border-transparent transition-all duration-300",placeholder:"nume@email.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"reservation-phone",className:"block text-sm font-dm-sans font-semibold text-gray-700 mb-2",children:"Telefon *"}),(0,a.jsx)("input",{id:"reservation-phone",type:"tel",name:"phone",value:r.phone,onChange:N,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-jade focus:border-transparent transition-all duration-300",placeholder:"+40 722 123 456"})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("label",{htmlFor:"reservation-flight",className:"block text-sm font-dm-sans font-semibold text-gray-700 mb-2",children:[(0,a.jsx)(o,{className:"h-4 w-4 inline text-jade mr-1"}),"Zbor (opțional)"]}),(0,a.jsx)("input",{id:"reservation-flight",type:"text",name:"flight",value:r.flight,onChange:N,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-jade focus:border-transparent transition-all duration-300",placeholder:"Ex: RO123 sau Blue Air 456"})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("label",{htmlFor:"reservation-discount",className:"block text-sm font-dm-sans font-semibold text-gray-700 mb-2",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4 inline text-jade mr-1"}),"Cod de reducere (opțional)"]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("input",{id:"reservation-discount",type:"text",name:"discountCode",value:r.discountCode,onChange:N,onBlur:T,className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-jade focus:border-transparent transition-all duration-300",placeholder:"Ex: WHEEL10"}),(0,a.jsx)("button",{type:"button",onClick:T,disabled:g||!r.discountCode.trim(),className:"px-4 py-3 bg-berkeley text-white font-dm-sans font-semibold rounded-lg hover:bg-berkeley/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300","aria-label":"Validează codul",children:g?(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):"Validează"})]}),h&&(0,a.jsx)("div",{className:"mt-2 p-3 rounded-lg ".concat(h.isValid?"bg-jade/10 text-jade":"bg-red-50 text-red-600"),children:(0,a.jsx)("p",{className:"text-sm font-dm-sans font-semibold",children:h.message})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-2xl font-poppins font-semibold text-berkeley mb-6 flex items-center",children:[(0,a.jsx)(c.Z,{className:"h-6 w-6 text-jade mr-3"}),"Detalii rezervare"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"reservation-pickup-date",className:"block text-sm font-dm-sans font-semibold text-gray-700 mb-2",children:"Dată ridicare *"}),(0,a.jsx)("input",{id:"reservation-pickup-date",type:"date",name:"pickupDate",value:r.pickupDate,onChange:N,required:!0,min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-jade focus:border-transparent transition-all duration-300"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"reservation-pickup-time",className:"block text-sm font-dm-sans font-semibold text-gray-700 mb-2",children:"Oră ridicare *"}),(0,a.jsx)("input",{id:"reservation-pickup-time",type:"time",name:"pickupTime",value:r.pickupTime,onChange:N,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-jade focus:border-transparent transition-all duration-300"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"reservation-dropoff-date",className:"block text-sm font-dm-sans font-semibold text-gray-700 mb-2",children:"Dată returnare *"}),(0,a.jsx)("input",{id:"reservation-dropoff-date",type:"date",name:"dropoffDate",value:r.dropoffDate,onChange:N,required:!0,min:r.pickupDate||new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-jade focus:border-transparent transition-all duration-300"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"reservation-dropoff-time",className:"block text-sm font-dm-sans font-semibold text-gray-700 mb-2",children:"Oră returnare *"}),(0,a.jsx)("input",{id:"reservation-dropoff-time",type:"time",name:"dropoffTime",value:r.dropoffTime,onChange:N,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-jade focus:border-transparent transition-all duration-300"})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsxs)("label",{htmlFor:"reservation-location",className:"block text-sm font-dm-sans font-semibold text-gray-700 mb-2",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4 inline text-jade mr-1"}),"Locația ridicării *"]}),(0,a.jsx)(f.P,{id:"reservation-location",className:"transition-all duration-300",value:r.location,onValueChange:w("location"),placeholder:"Selectează locația",children:y.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("label",{htmlFor:"reservation-car-type",className:"block text-sm font-dm-sans font-semibold text-gray-700 mb-2",children:"Tip mașină *"}),(0,a.jsx)(f.P,{id:"reservation-car-type",className:"transition-all duration-300",value:r.carType,onValueChange:w("carType"),placeholder:"Selectează tipul",children:j.map(e=>(0,a.jsxs)("option",{value:e.value,children:[e.label," - ",e.price,"€/zi"]},e.value))})]})]}),(0,a.jsx)("button",{type:"submit",disabled:m,className:"w-full py-4 bg-jade text-white font-dm-sans font-semibold text-lg rounded-lg hover:bg-jade/90 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 transition-all duration-300 shadow-lg flex items-center justify-center space-x-2","aria-label":"Finalizează rezervarea",children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,a.jsx)("span",{children:"Se procesează..."})]}):(0,a.jsx)("span",{children:"Finalizează rezervarea"})})]})})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-8 sticky top-24",children:[(0,a.jsx)("h3",{className:"text-2xl font-poppins font-semibold text-berkeley mb-6",children:"Rezumatul rezervării"}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[D&&(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"font-dm-sans text-gray-600",children:"Mașină:"}),(0,a.jsx)("span",{className:"font-dm-sans font-semibold text-berkeley",children:D.label.split(" - ")[0]})]}),r.pickupDate&&(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"font-dm-sans text-gray-600",children:"De la:"}),(0,a.jsx)("span",{className:"font-dm-sans font-semibold text-berkeley",children:new Date(r.pickupDate).toLocaleDateString("ro-RO")})]}),r.dropoffDate&&(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"font-dm-sans text-gray-600",children:"P\xe2nă la:"}),(0,a.jsx)("span",{className:"font-dm-sans font-semibold text-berkeley",children:new Date(r.dropoffDate).toLocaleDateString("ro-RO")})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"font-dm-sans text-gray-600",children:"Locație:"}),(0,a.jsx)("span",{className:"font-dm-sans font-semibold text-berkeley",children:(null===(e=y.find(e=>e.value===r.location))||void 0===e?void 0:e.label.split(",")[0])||"Aeroport"})]})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(null==h?void 0:h.isValid)&&h.discount>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("span",{className:"font-dm-sans text-gray-600",children:"Subtotal:"}),(0,a.jsxs)("span",{className:"font-dm-sans text-gray-600",children:[S,"€"]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsxs)("span",{className:"font-dm-sans text-jade",children:["Reducere (",h.discount,"%):"]}),(0,a.jsxs)("span",{className:"font-dm-sans text-jade",children:["-",Math.round(S*h.discount/100),"€"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-xl",children:[(0,a.jsx)("span",{className:"font-poppins font-semibold text-berkeley",children:"Total:"}),(0,a.jsxs)("span",{className:"font-poppins font-bold text-jade",children:[Math.round(E),"€"]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 font-dm-sans mt-2",children:"*Preț final, fără taxe ascunse"})]}),(0,a.jsxs)("div",{className:"mt-8 p-4 bg-jade/5 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-poppins font-semibold text-berkeley mb-2",children:"Include:"}),(0,a.jsxs)("ul",{className:"text-sm font-dm-sans text-gray-600 space-y-1",children:[(0,a.jsx)("li",{children:"✓ Predare \xeen sub 5 minute"}),(0,a.jsx)("li",{children:"✓ Disponibilitate 24/7"}),(0,a.jsx)("li",{children:"✓ Fără taxe ascunse"}),(0,a.jsx)("li",{children:"✓ Modificare gratuită"})]})]})]})})]})]})})}},3647:function(e,t,r){"use strict";r.d(t,{P:function(){return i}});var a=r(7437),s=r(2265),n=r(4508);let i=s.forwardRef((e,t)=>{let{className:r,children:s,placeholder:i,onValueChange:l,onChange:o,...d}=e;return(0,a.jsxs)("select",{ref:t,className:(0,n.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),onChange:e=>{null==o||o(e),null==l||l(e.target.value)},...d,children:[i&&(0,a.jsx)("option",{value:"",disabled:!0,hidden:!0,children:i}),s]})});i.displayName="Select"},4508:function(e,t,r){"use strict";function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}r.d(t,{cn:function(){return a}})},9763:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let r=(0,a.forwardRef)((r,i)=>{let{color:l="currentColor",size:o=24,strokeWidth:d=2,absoluteStrokeWidth:c,className:u="",children:m,...p}=r;return(0,a.createElement)("svg",{ref:i,...s,width:o,height:o,stroke:l,strokeWidth:c?24*Number(d)/Number(o):d,className:["lucide","lucide-".concat(n(e)),u].join(" "),...p},[...t.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(m)?m:[m]])});return r.displayName="".concat(e),r}},1047:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},7414:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},3774:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},257:function(e,t,r){"use strict";var a,s;e.exports=(null==(a=r.g.process)?void 0:a.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(4227)},4227:function(e){!function(){var t={229:function(e){var t,r,a,s=e.exports={};function n(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var o=[],d=!1,c=-1;function u(){d&&a&&(d=!1,a.length?o=a.concat(o):c=-1,o.length&&m())}function m(){if(!d){var e=l(u);d=!0;for(var t=o.length;t;){for(a=o,o=[];++c<t;)a&&a[c].run();c=-1,t=o.length}a=null,d=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];o.push(new p(e,t)),1!==o.length||d||l(m)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=f,s.addListener=f,s.once=f,s.off=f,s.removeListener=f,s.removeAllListeners=f,s.emit=f,s.prependListener=f,s.prependOnceListener=f,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function a(e){var s=r[e];if(void 0!==s)return s.exports;var n=r[e]={exports:{}},i=!0;try{t[e](n,n.exports,a),i=!1}finally{i&&delete r[e]}return n.exports}a.ab="//";var s=a(229);e.exports=s}()}},function(e){e.O(0,[971,117,744],function(){return e(e.s=8310)}),_N_E=e.O()}]);
//# sourceMappingURL=page-5d00e6ddc171a54c.js.map